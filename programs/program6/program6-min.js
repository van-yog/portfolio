"use strict";const ONE_YEAR=1;let period=1,flight={};setMinMaxDateForInput('input[name="flightDepart"]'),setMinMaxDateForInput('input[name="flightReturn"]');let f=document.forms.flight__form,btnSearch=f.flightSearch,flightDepart=f.flightDepart,flightReturn=f.flightReturn,oneWay=document.querySelector("#flight__oneWay"),baggage=f.flightBaggage,ticketInfo=document.querySelector("#ticket");function setMinMaxDateForInput(e){let t=document.querySelector(e),n=new Date;t.min=getDateForInput(n),t.max=getMaxDateForInput(n,period)}function getDateForInput(e){let t,n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();return r<10&&(r="0"+r),i<10&&(i="0"+i),t=`${n}-${r}-${i}`}function getMaxDateForInput(e,t){t>2&&(t=2);let n=e.getFullYear()+t;return e.setFullYear(n),getDateForInput(e)}function tempInformation(e){document.querySelector("#ticket__from").innerText=e.from=f.flightFrom.value,document.querySelector("#ticket__to").innerText=e.to=f.flightTo.value,document.querySelector("#ticket__depart").innerText=e.depart=f.flightDepart.value,document.querySelector("#ticket__return").innerText=e.return=f.flightReturn.value,document.querySelector("#ticket__adults").innerText=e.adults=Number(f.flightAdults.value),document.querySelector("#ticket__children").innerText=e.children=Number(f.flightChildren.value),document.querySelector("#ticket__baggage").innerText=e.baggage=Number(f.flightBaggage.value),document.querySelector("#ticket__weight").innerText=e.weight=Number(20*e.baggage),oneWay.checked?document.querySelector("#ticket__return").parentElement.classList.add("close"):document.querySelector("#ticket__return").parentElement.classList.remove("close")}function validateForm(){if(console.log(flight),!flight)return!1;if(!flight.from||!flight.to)return!1;if(!flight.adults&&!flight.children)return!1;if(oneWay.checked){if(console.log("Ticket only in one side"),!flight.depart)return console.log("Enter depart date"),console.log(flight.depart),!1}else if(console.log("Ticken with return flight"),!flight.return||!flight.depart)return console.log("Enter all dates for your travel"),!1;return!0}function findTicket(){document.querySelector("#ticket").classList.add("find-ticket"),document.querySelector(".bold").innerHTML="We find to you ticket"}console.log(ticketInfo),f.addEventListener("change",()=>{tempInformation(flight),flightReturn.disabled=!!oneWay.checked;let e=document.querySelector(".find-ticket");if(e){e.classList.remove("find-ticket"),document.querySelector(".bold").innerHTML="Temp information about your flight"}}),baggage.addEventListener("click",()=>{let e=document.querySelector("#countBaggage"),t=document.querySelector("#totalWeight");baggage.value&&(e.innerHTML=baggage.value,t.innerHTML=20*baggage.value)}),flightDepart.addEventListener("change",()=>{flightReturn.min=flightDepart.value}),btnSearch.addEventListener("click",()=>{validateForm()?findTicket():alert("Please enter all data")});